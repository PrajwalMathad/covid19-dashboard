(this["webpackJsonpcovid19-dashboard"]=this["webpackJsonpcovid19-dashboard"]||[]).push([[0],{185:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(57),c=a.n(o),l=(a(69),a(62)),i=a(3),s=a(60),u=a.n(s),d=a(13),m=a.n(d),f={getGlobalCount:function(){return m.a.get("https://api.covid19api.com/summary")},getCountryCount:function(e){return m.a.get("https://covidapi.info/api/v1/country/".concat(e,"/latest"))},getCountryChartCount:function(e,t,a){return m.a.get("https://api.covid19api.com/country/".concat(e,"?from=").concat(a(t).subtract(30,"days").format("YYYY-MM-DD"),"&to=").concat(a(t).format("YYYY-MM-DD")))},getCountryCodes:function(){return m.a.get("https://api.covid19api.com/countries")}},b=function(e){return r.a.createElement("div",{className:"cards"},r.a.createElement("div",{className:"".concat(e.label,"-card")},e.label),r.a.createElement("div",{className:"count"},e.count))},h=a(58),C=function(e){return r.a.createElement(h.a,{width:500,height:180,data:{labels:e.chartLabels,datasets:[{label:"Confirmed",fill:!1,lineTension:.5,color:"rgb(239,245,252,1)",backgroundColor:"rgb(68,138,255,1)",pointBackgroundColor:"rgb(68,138,255,0.8)",borderColor:"rgb(68,138,255,1)",borderWidth:2,data:e.confirmedLine},{label:"Deaths",fill:!1,lineTension:.5,color:"rgb(239,245,252,1)",backgroundColor:"rgb(255,82,82,1)",pointBackgroundColor:"rgb(255,82,82,0.8)",borderColor:"rgb(255,82,82,1)",borderWidth:2,data:e.deathLine}]},options:{title:{display:!1},legend:{display:!0,position:"top"}}})},p=a(40),v=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)({}),s=Object(i.a)(c,2),d=s[0],m=s[1],h=Object(n.useState)({}),v=Object(i.a)(h,2),g=v[0],E=v[1],N=Object(n.useState)([]),y=Object(i.a)(N,2),O=y[0],j=y[1],D=Object(n.useState)(""),S=Object(i.a)(D,2),k=S[0],w=S[1],Y=Object(n.useState)([]),M=Object(i.a)(Y,2),L=M[0],I=M[1],T=Object(n.useState)([]),A=Object(i.a)(T,2),G=A[0],W=A[1],B=Object(n.useState)([]),P=Object(i.a)(B,2),J=P[0],V=P[1],_=Object(n.useState)([]),x=Object(i.a)(_,2),H=(x[0],x[1],Object(n.useState)({Country:"India",Slug:"india"})),U=Object(i.a)(H,2),$=U[0],q=U[1],z=new Date,F=function(e){q(e)},K=function(e){return r.a.createElement("div",{key:e.Slug,className:"country-row",onClick:F.bind(null,e)},e.Country)};Object(n.useEffect)((function(){f.getGlobalCount().then((function(e){if(o(e.data),m({Confirmed:e.data.Global.TotalConfirmed,Deaths:e.data.Global.TotalDeaths}),e.data.Countries){var t=e.data.Countries.filter((function(e){return"india"===e.Slug}));E({Confirmed:t[0].TotalConfirmed,Deaths:t[0].TotalDeaths});var a=Object(l.a)(e.data.Countries);a.sort((function(e,t){var a=e.Country.toLowerCase(),n=t.Country.toLowerCase();return a<n?-1:a>n?1:0})),j(a)}else E({Confirmed:"NA",Deaths:"NA"})}),(function(e){m({Confirmed:"NA",Deaths:"NA"})}))}),[]),Object(n.useEffect)((function(){if(a&&a.Countries){var e=a.Countries.filter((function(e){return e.Slug===$.Slug}));E({Confirmed:e[0].TotalConfirmed,Deaths:e[0].TotalDeaths})}f.getCountryChartCount($.Slug,z,p).then((function(e){var t=Object.keys(e.data),a=[],n=[],r=[];t.forEach((function(t){n.push(e.data[t].Confirmed),r.push(e.data[t].Deaths),a.push(p(e.data[t].Date,"YYYY-MM-DD").format("MMM DD"))})),I(a),W(n),V(r)}),(function(e){}))}),[$]);var Q=function(e){return Object.keys(e).map((function(t){return r.a.createElement(b,{label:t,count:e[t]})}))};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"title"},"COVID19"),r.a.createElement("span",{className:"date"},p(z).format("DD/MM/YYYY"))),r.a.createElement("div",{className:"display-flex"},r.a.createElement("div",{className:"card-block"},r.a.createElement("div",{className:"card-container-title"},"World"),r.a.createElement("div",{className:"card-container"},Q(d))),r.a.createElement("div",{className:"card-block no-boder"},r.a.createElement("div",{className:"card-container-title"},$.Country),r.a.createElement("div",{className:"card-container"},Q(g)))),r.a.createElement("div",{className:"details-container"},r.a.createElement("div",{className:"left-panel"},r.a.createElement("input",{className:"search-field",onChange:function(e){var t=e.target.value;w(t)},value:k,placeholder:"Search by Country"}),r.a.createElement("div",{className:"country-list"},O&&O.length?k?O.filter((function(e){return e.Country.toLowerCase().includes(k.toLowerCase())})).map((function(e){return K(e)})):O.map((function(e){return K(e)})):r.a.createElement("span",null,"No list"))),r.a.createElement("div",{className:"right-panel"},r.a.createElement("div",{className:"chart-container"},r.a.createElement(C,{chartLabels:L,confirmedLine:G,deathLine:J})))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"credits"},r.a.createElement("div",null,"API : ",r.a.createElement("code",null,r.a.createElement("a",{href:"https://covid19api.com/",rel:"noopener noreferrer",target:"_blank"}," COVID19 API"))),r.a.createElement("div",{className:"margin-left-20"},"Dataset : ",r.a.createElement("code",null,r.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19",rel:"noopener noreferrer",target:"_blank"}," John Hopkins University"))),r.a.createElement("div",{className:"margin-15"},r.a.createElement("code",{className:"made-by"},"Coded with ",r.a.createElement(u.a,{className:"love"})," by Prajwal",r.a.createElement("a",{href:"https://github.com/PrajwalMathad",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:"fab fa-github"}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e,t,a){e.exports=a(185)},69:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.f62a4ce1.chunk.js.map