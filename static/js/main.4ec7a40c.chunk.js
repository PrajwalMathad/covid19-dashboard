(this["webpackJsonpcovid19-dashboard"]=this["webpackJsonpcovid19-dashboard"]||[]).push([[0],{182:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(55),c=a.n(o),l=(a(66),a(3)),i=a(58),s=a.n(i),u=a(12),d=a.n(u),m={getGlobalCount:function(){return d.a.get("https://api.covid19api.com/summary")},getCountryCount:function(e){return d.a.get("https://covidapi.info/api/v1/country/".concat(e,"/latest"))},getCountryChartCount:function(e,t,a){return d.a.get("https://api.covid19api.com/country/".concat(e,"?from=").concat(a(t).subtract(30,"days").format("YYYY-MM-DD"),"&to=").concat(a(t).format("YYYY-MM-DD")))},getCountryCodes:function(){return d.a.get("https://api.covid19api.com/countries")}},f=function(e){return r.a.createElement("div",{className:"cards"},r.a.createElement("div",{className:"".concat(e.label,"-card")},e.label),r.a.createElement("div",{className:"count"},e.count))},b=a(56),h=function(e){return r.a.createElement(b.a,{width:500,height:180,data:{labels:e.chartLabels,datasets:[{label:"Confirmed",fill:!1,lineTension:.5,color:"rgb(239,245,252,1)",backgroundColor:"rgb(68,138,255,1)",pointBackgroundColor:"rgb(68,138,255,0.8)",borderColor:"rgb(68,138,255,1)",borderWidth:2,data:e.confirmedLine},{label:"Deaths",fill:!1,lineTension:.5,color:"rgb(239,245,252,1)",backgroundColor:"rgb(255,82,82,1)",pointBackgroundColor:"rgb(255,82,82,0.8)",borderColor:"rgb(255,82,82,1)",borderWidth:2,data:e.deathLine}]},options:{title:{display:!1},legend:{display:!0,position:"top"}}})},C=a(38),p=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)({}),i=Object(l.a)(c,2),u=i[0],d=i[1],b=Object(n.useState)({}),p=Object(l.a)(b,2),v=p[0],g=p[1],E=Object(n.useState)([]),N=Object(l.a)(E,2),y=N[0],j=N[1],D=Object(n.useState)(""),O=Object(l.a)(D,2),S=O[0],k=O[1],w=Object(n.useState)([]),Y=Object(l.a)(w,2),M=Y[0],L=Y[1],T=Object(n.useState)([]),A=Object(l.a)(T,2),I=A[0],G=A[1],W=Object(n.useState)([]),B=Object(l.a)(W,2),J=B[0],P=B[1],_=Object(n.useState)([]),x=Object(l.a)(_,2),V=(x[0],x[1],Object(n.useState)({Country:"India",Slug:"india"})),H=Object(l.a)(V,2),U=H[0],$=H[1],q=new Date,z=function(e){$(e)},F=function(e){return r.a.createElement("div",{key:e.Slug,className:"country-row",onClick:z.bind(null,e)},e.Country)};Object(n.useEffect)((function(){m.getGlobalCount().then((function(e){if(o(e.data),d({Confirmed:e.data.Global.TotalConfirmed,Deaths:e.data.Global.TotalDeaths}),e.data.Countries){var t=e.data.Countries.filter((function(e){return"india"===e.Slug}));g({Confirmed:t[0].TotalConfirmed,Deaths:t[0].TotalDeaths})}else g({Confirmed:"NA",Deaths:"NA"})}),(function(e){d({Confirmed:"NA",Deaths:"NA"})})),m.getCountryCodes().then((function(e){e.data.sort((function(e,t){var a=e.Country.toLowerCase(),n=t.Country.toLowerCase();return a<n?-1:a>n?1:0})),j(e.data)}))}),[]),Object(n.useEffect)((function(){if(a&&a.Countries){var e=a.Countries.filter((function(e){return e.Slug===U.Slug}));g({Confirmed:e[0].TotalConfirmed,Deaths:e[0].TotalDeaths})}m.getCountryChartCount(U.Slug,q,C).then((function(e){var t=Object.keys(e.data),a=[],n=[],r=[];t.forEach((function(t){n.push(e.data[t].Confirmed),r.push(e.data[t].Deaths),a.push(C(e.data[t].Date,"YYYY-MM-DD").format("MMM DD"))})),L(a),G(n),P(r)}),(function(e){}))}),[U]);var K=function(e){return Object.keys(e).map((function(t){return r.a.createElement(f,{label:t,count:e[t]})}))};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"title"},"COVID19"),r.a.createElement("span",{className:"date"},C(q).format("DD/MM/YYYY"))),r.a.createElement("div",{className:"display-flex"},r.a.createElement("div",{className:"card-block"},r.a.createElement("div",{className:"card-container-title"},"World"),r.a.createElement("div",{className:"card-container"},K(u))),r.a.createElement("div",{className:"card-block no-boder"},r.a.createElement("div",{className:"card-container-title"},U.Country),r.a.createElement("div",{className:"card-container"},K(v)))),r.a.createElement("div",{className:"details-container"},r.a.createElement("div",{className:"left-panel"},r.a.createElement("input",{className:"search-field",onChange:function(e){var t=e.target.value;k(t)},value:S,placeholder:"Search by Country"}),r.a.createElement("div",{className:"country-list"},y&&y.length?S?y.filter((function(e){return e.Country.toLowerCase().includes(S.toLowerCase())})).map((function(e){return F(e)})):y.map((function(e){return F(e)})):r.a.createElement("span",null,"No list"))),r.a.createElement("div",{className:"right-panel"},r.a.createElement("div",{className:"chart-container"},r.a.createElement(h,{chartLabels:M,confirmedLine:I,deathLine:J})))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"credits"},r.a.createElement("div",null,"API : ",r.a.createElement("code",null,r.a.createElement("a",{href:"https://covidapi.info/",rel:"noopener noreferrer",target:"_blank"}," covidapi.info"))),r.a.createElement("div",{className:"margin-left-20"},"Dataset : ",r.a.createElement("code",null,r.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19",rel:"noopener noreferrer",target:"_blank"}," John Hopkins University"))),r.a.createElement("div",{className:"margin-15"},r.a.createElement("code",{className:"made-by"},"Coded with ",r.a.createElement(s.a,{className:"love"})," by Prajwal",r.a.createElement("a",{href:"https://github.com/PrajwalMathad",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:"fab fa-github"}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,a){e.exports=a(182)},66:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.4ec7a40c.chunk.js.map